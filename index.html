<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Savings - Startup</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #0b0b0b;
            color: white;
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow: hidden;
        }

        .target-title {
            color: #ff3b30;
            font-weight: 900;
            font-style: italic;
            text-shadow: 0 0 20px rgba(255, 59, 48, 0.5);
            letter-spacing: -2px;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä-–º–∞—Å–∫–∞ –¥–ª—è –ø–æ–∫—Ä–∞—Å–∫–∏ –º–∞—à–∏–Ω—ã */
        .car-paint-area {
            position: relative;
            width: 100%;
            height: 200px;
            -webkit-mask-image: url('https://i.postimg.cc/9FmX7xH6/car-outline.png');
            mask-image: url('https://i.postimg.cc/9FmX7xH6/car-outline.png');
            -webkit-mask-size: contain;
            mask-size: contain;
            -webkit-mask-repeat: no-repeat;
            mask-repeat: no-repeat;
            -webkit-mask-position: center;
            background: rgba(255, 255, 255, 0.05);
        }

        .paint-wave {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 0%; /* –ù–∞—á–∏–Ω–∞–µ–º —Å –Ω—É–ª—è */
            background: linear-gradient(180deg, #007AFF 0%, #00f2ff 100%);
            transition: height 1.5s ease-in-out;
            box-shadow: 0 0 30px rgba(0, 122, 255, 0.4);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .btn-inactive {
            background: #1a1a1a !important;
            color: #444 !important;
            cursor: not-allowed;
        }

        @keyframes pulse-red {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        .animate-target { animation: pulse-red 2s infinite; }
    </style>
</head>
<body>

    <div class="flex flex-col h-screen p-6 max-w-md mx-auto justify-between">
        
        <div class="text-center pt-4">
            <h1 class="text-6xl target-title animate-target mb-4">500 000!</h1>
            
            <div class="glass-card rounded-[32px] p-6 shadow-2xl">
                <div class="text-gray-500 text-xs font-bold uppercase mb-2">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                <div class="text-4xl font-black mb-6"><span id="balance">0</span> <span class="text-blue-500">‚Ç∏</span></div>
                
                <input type="number" id="sumInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É ‚Ç∏" 
                    class="w-full bg-black/40 border border-white/10 rounded-xl py-3 px-4 mb-4 text-center focus:border-blue-500 outline-none transition-all">
                
                <input type="file" id="receiptFile" class="hidden" onchange="checkFile()">
                <label for="receiptFile" id="fileLabel" class="flex items-center justify-center gap-2 w-full py-3 border border-dashed border-gray-700 rounded-xl text-gray-500 cursor-pointer hover:border-blue-500 transition-all mb-4">
                    <span>üìé –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —á–µ–∫</span>
                </label>

                <button id="mainBtn" onclick="processPayment()" disabled class="btn-inactive w-full py-4 rounded-2xl font-bold transition-all uppercase tracking-widest">
                    –ü–æ–ø–æ–ª–Ω–∏—Ç—å –∫–æ–ø–∏–ª–∫—É
                </button>
            </div>
        </div>

        <div class="relative flex flex-col items-center">
            <div class="car-paint-area">
                <div id="paint" class="paint-wave"></div>
            </div>
            <img src="https://i.postimg.cc/9FmX7xH6/car-outline.png" class="absolute top-0 w-full h-[200px] object-contain opacity-20 pointer-events-none">
        </div>

        <div class="flex justify-between gap-2 overflow-x-auto pb-4">
            <div class="min-w-[70px] bg-blue-500/10 border border-blue-500/40 rounded-xl py-3 text-center">
                <div class="text-[10px] text-blue-400 font-bold">–Ø–ù–í</div>
                <div class="text-xs">‚è≥</div>
            </div>
            <div class="min-w-[70px] bg-white/5 border border-white/10 rounded-xl py-3 text-center opacity-40">
                <div class="text-[10px] text-gray-400 font-bold">–§–ï–í</div>
                <div class="text-xs">‚óã</div>
            </div>
            <div class="min-w-[70px] bg-white/5 border border-white/10 rounded-xl py-3 text-center opacity-40">
                <div class="text-[10px] text-gray-400 font-bold">–ú–ê–†</div>
                <div class="text-xs">‚óã</div>
            </div>
            <div class="min-w-[70px] bg-white/5 border border-white/10 rounded-xl py-3 text-center opacity-40">
                <div class="text-[10px] text-gray-400 font-bold">–ê–ü–†</div>
                <div class="text-xs">‚óã</div>
            </div>
        </div>
    </div>

    <script>
        let currentBalance = 0;
        const goal = 500000;

        function checkFile() {
            const file = document.getElementById('receiptFile').files[0];
            const btn = document.getElementById('mainBtn');
            const label = document.getElementById('fileLabel');
            
            if (file) {
                btn.disabled = false;
                btn.classList.remove('btn-inactive');
                btn.classList.add('bg-blue-600', 'hover:bg-blue-500', 'shadow-[0_0_20px_rgba(0,122,255,0.4)]');
                label.innerHTML = "‚úÖ –ß–µ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω";
                label.classList.add('text-green-400', 'border-green-500/50');
            }
        }

        function processPayment() {
            const input = document.getElementById('sumInput');
            const val = parseInt(input.value);

            if (isNaN(val) || val <= 0) {
                alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É");
                return;
            }

            currentBalance += val;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
            document.getElementById('balance').innerText = currentBalance.toLocaleString();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∫—Ä–∞—Å–∫—É –º–∞—à–∏–Ω—ã
            const percent = Math.min((currentBalance / goal) * 100, 100);
            document.getElementById('paint').style.height = percent + '%';

            // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞–∑–∞
            input.value = "";
            resetButton();

            // –¢–∞–∫—Ç–∏–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫ –¥–ª—è Telegram
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.HapticFeedback.notificationOccurred('success');
            }
        }

        function resetButton() {
            const btn = document.getElementById('mainBtn');
            const label = document.getElementById('fileLabel');
            document.getElementById('receiptFile').value = "";
            
            btn.disabled = true;
            btn.className = "btn-inactive w-full py-4 rounded-2xl font-bold transition-all uppercase tracking-widest";
            label.innerHTML = "üìé –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —á–µ–∫";
            label.className = "flex items-center justify-center gap-2 w-full py-3 border border-dashed border-gray-700 rounded-xl text-gray-500 cursor-pointer hover:border-blue-500 transition-all mb-4";
        }
    </script>
</body>
</html>
